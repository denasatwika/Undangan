<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Undangan Pernikahan</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Alex+Brush&family=Alice&family=Allura&family=Dancing+Script:wght@400..700&family=EB+Garamond:ital,wght@0,400..800;1,400..800&family=Great+Vibes&family=Hurricane&family=Licorice&family=Meddon&family=Meow+Script&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&family=Parisienne&family=Passions+Conflict&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Quicksand:wght@700&family=Qwitcher+Grypen:wght@400;700&family=Sacramento&family=Work+Sans:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="countdown/simplyCountdown.theme.default.css" />
    <script src="countdown/simplyCountdown.min.js"></script>
</head>
<body>
    <div class="wrapper">
        <!-- <section class="slider-container">
            <div class="slider">
                <h2 class="pawiwahan">PAWIWAHAN</h2>
                <img src="foto/nama-pengantin.png" class="awal-pengantin">
                <div class="slide active"><img src="foto/img1.jpg" alt="Slide 1"></div>
                <div class="slide"><img src="foto/img2.jpg" alt="Slide 2"></div>
                <div class="slide"><img src="foto/img3.jpg" alt="Slide 3"></div>
            </div>

            <section> 
                <div class="wave wave1"></div>
                <div class="wave wave2"></div>
                <div class="wave wave3"></div>
                <div class="wave wave4"></div>
            </section>
        </section> -->

        <section id="hero"
        class="hero w-100 h-100 p-3 mx-auto text-center d-flex justify-content-center align-items-center text-white">
        <main>
          <h2 class="pawiwahan">PAWIWAHAN</h2>
          <img src="foto/nama-pengantin.png" class="awal-pengantin">
          <!-- <h1> Catur & Gita </h1> -->
          <div class="bawahan text-center position-absolute start-50 translate-middle-x">
            <h4 class="fw-normal">Kepada Bapak/Ibu/Saudara/i,</h4>
            <h3 class="nama-tamu"><strong>[Nama Tamu]</strong></h3>
            <a href="#home" class="bi bi-envelope-open-fill btn btn-lg mt-4 rounded-pill px-4" onclick="enableScroll()">   Buka Undangan</a>
          </div>
        </main> 
    
      </section>

      <div class="wave-container">
        <div class="wave wave1"></div>
        <div class="wave wave2"></div>
        <div class="wave wave3"></div>
        <div class="wave wave4"></div>
      </div>

        <div class="container-ossa" id="home">
            <h2 class="OSSA animate-on-scroll"><i>Om Swastiastu</i></h2>
            <p class="description animate-on-scroll">
                Atas Asung Kertha Wara Nugraha Ida Sang Hyang Widhi Wasa/Tuhan Yang Maha Esa kami bermaksud mengundang 
                Bapak/Ibu/Saudara/i pada Upacara Manusa Yadnya Pawiwahan Kami.
            </p>
        </div>
        
        <!-- <section class="content container">
            <div class="row justify-content-center">
                <div class="col-md-5 col-10 text-center pengantin-atas">
                    <img src="img/1.jpeg" alt="Pria" class="foto-pengantin animate-on-scroll">
                    <h2 class="nama-pengantin animate-on-scroll">I Ketut Catur Wirawan</h2>
                    <p class="orang-tua animate-on-scroll">Putra dari<br>Mr. Father Name<br>&<br>Mrs. Mother Name</p>
                </div>
        
                <div class="col-md-5 col-10 text-center">
                    <img src="img/1.jpeg" alt="Wanita" class="foto-pengantin animate-on-scroll">
                    <h2 class="nama-pengantin animate-on-scroll">Ni Putu Asmagita Swari</h2>
                    <p class="orang-tua animate-on-scroll">Putri dari<br>Mr. Father Name<br>&<br>Mrs. Mother Name</p>
                </div>
            </div>
        </section> -->

        <section class="content container">
            <div class="row justify-content-center">
                <div class="col-md-5 col-10 text-center">
                    <div class="pengantin-atas">
                        <img src="img/1.jpeg" alt="Pria" class="foto-pengantin animate-on-scroll">
                        <h2 class="nama-pengantin animate-on-scroll">I Ketut Catur Wirawan</h2>
                    </div>
                    <div class="box">
                        <p class="orang-tua animate-on-scroll">Putra dari<br>Mr. Father Name<br>&<br>Mrs. Mother Name</p>
                    </div>
                </div>
        
                <img src="img/daun-kiri1.png" alt="Daun Kiri" class="daun daun-kiri animate-on-scroll">
                <!-- Daun Kanan -->
                <img src="img/daun-kanan1.png" alt="Daun Kanan" class="daun daun-kanan">

                <div class="col-md-5 col-10 text-center">
                    <div class="pengantin-atas">
                        <img src="img/1.jpeg" alt="Wanita" class="foto-pengantin animate-on-scroll">
                        <h2 class="nama-pengantin animate-on-scroll">Ni Putu Asmagita Swari</h2>
                    </div>
                    <div class="box">
                        <p class="orang-tua animate-on-scroll">Putri dari<br>Mr. Father Name<br>&<br>Mrs. Mother Name</p>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <section class="bagian-doa">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8 col-lg-6">
                    <div class="doa-box animate-on-scroll">
                        <p><i>
                            Ihaiva stam ma vi yaustam, visvam ayur vyasnutam, kridantau putrair naptrbhih, modamanau sve grhe.
                            (Rg Veda X.85.42)
                            <br><br>
                            Wahai pasangan suami-isteri, semoga kalian tetap bersatu dan tidak pernah terpisahkan. Semoga kalian mencapai hidup penuh kebahagiaan, tinggal di rumah yang penuh kegembiraan bersama seluruh keturunanmu.
                        </i></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-5">
        <div class="container text-center">
            <h2 class="section-title animate-on-scroll">Waktu & Tempat</h2>
            <div class="content content-waktu">
                <p class="highlight animate-on-scroll">Kamis</p>
                <p class="paragraf animate-on-scroll">31 Desember 2025</p>
                <p class="highlight animate-on-scroll">Pukul</p>
                <p class="paragraf animate-on-scroll">10.00 WITA - Selesai</p>
                <p class="paragraf animate-on-scroll"><em>Bertempat di</em></p>
                <p class="paragraf animate-on-scroll">Br. Buahan, Ds. Buahan, Kec. Kintamani, Kab. Bangli, Bali</p>
                <a href="https://maps.google.com" target="_blank" class=" bi bi-geo-alt-fill btn btn-kastem mt-3"> MAP LOKASI ACARA</a>
                <p class="mt-3 animate-on-scroll">
                    Dengan penuh rasa syukur, kami mengundang Bapak/Ibu/Saudara/i untuk hadir dan memberikan doa restu pada momen bahagia kami.
                </p>
            </div>
        </div>
    </section>

    <div class="simply-countdown"></div>
    
      <section id="gallery" class="gallery">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-md-8 col-10 text-center">
              <!-- <span>Memori Kisah Kami</span> -->
              <h2 class="galery-foto">Galeri Foto</h2>
              <!-- <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga, itaque?</p> -->
            </div>
          </div>
    
          <div class="row row-cols-lg-4 row-cols-md-3 row-cols-sm-2 row-cols-1 justify-content-center">
            <div class="col mt-3">
              <a href="img/2.png" data-toggle="lightbox" data-caption="Sandhika & Nofa 1" data-gallery="mygallery">
                <img src="img/2.png" alt="Sandhika & Nofa 1" class="img-fluid w-100 rounded">
              </a>
            </div>
            <div class="col mt-3">
              <a href="img/3.png" data-toggle="lightbox" data-caption="Sandhika & Nofa 2"
                data-gallery="mygallery">
                <img src="img/3.png" alt="Sandhika & Nofa 2" class="img-fluid w-100 rounded">
              </a>
            </div>
            <div class="col mt-3">
              <a href="img/4.png" data-toggle="lightbox" data-caption="Sandhika & Nofa 3"
                data-gallery="mygallery">
                <img src="img/4.png" alt="Sandhika & Nofa 3" class="img-fluid w-100 rounded">
              </a>
            </div>
            <div class="col mt-3">
              <a href="img/5.png" data-toggle="lightbox" data-caption="Sandhika & Nofa 4"
                data-gallery="mygallery">
                <img src="img/5.png" alt="Sandhika & Nofa 4" class="img-fluid w-100 rounded">
              </a>
            </div>
            <div class="col mt-3">
              <a href="https://picsum.photos/id/304/1200/768" data-toggle="lightbox" data-caption="Sandhika & Nofa 5"
                data-gallery="mygallery">
                <img src="img/2.png" alt="Sandhika & Nofa 5" class="img-fluid w-100 rounded">
              </a>
            </div>
            <div class="col mt-3">
              <a href="https://picsum.photos/id/305/1200/768" data-toggle="lightbox" data-caption="Sandhika & Nofa 6"
                data-gallery="mygallery">
                <img src="img/3.png" alt="Sandhika & Nofa 6" class="img-fluid w-100 rounded">
              </a>
            </div>
          </div>
        </div>
      </section>

    <section class="amplop">
        <div class="container d-flex flex-column justify-content-center align-items-center">
            <div class="amplop-box">
                <h2 class="animate-on-scroll">Amplop Digital</h2>
                <p class="animate-on-scroll"><i>
                    Doa dan restu dari Anda adalah hadiah terbaik bagi kami. <br><br>
                    Jika ingin memberikan kado secara cashless, Anda dapat melakukannya melalui transfer.
                </i></p>
                <button class="bi bi-envelope-paper-fill btn btn-success" data-bs-toggle="modal" data-bs-target="#amplopModal"> Kirim Amplop</button>
            </div>
        </div>
    </section>
    
     <!-- Form Amplop Digital -->
     <div class="modal fade" id="amplopModal" tabindex="-1" aria-labelledby="amplopModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="amplopModalLabel">Silakan Transfer ke Rekening Berikut:</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Alert Success -->
                    <div id="successAlert" class="alert alert-success alert-dismissible fade show d-none p-3 rounded d-flex align-items-center justify-content-between" role="alert">
                        <div class="d-flex align-items-center">
                            <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:">
                                <use xlink:href="#check-circle-fill"/>
                            </svg>
                            <div id="alertMessage">
                                Nomor rekening berhasil disalin!
                            </div>
                        </div>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
    
                    <!-- Rekening BNI -->
                    <div class="bank-box text-center p-3 border rounded my-2">
                        <img src="img/BNI.png" alt="BNI" class="bank-logo mb-2">
                        <p><strong>0123456789</strong><br>a/n I Ketut Catur Circa</p>
                        <button class="bi bi-copy btn btn-warning copy-btn" data-rekening="0123456789"> Copy No Rekening</button>
                    </div>
    
                    <!-- Rekening BCA -->
                    <div class="bank-box text-center p-3 border rounded my-2">
                        <img src="img/BCA.png" alt="BCA" class="bank-logo mb-2">
                        <p><strong>9876543210</strong><br>a/n I Ketut Catur Circa</p>
                        <button class="bi bi-copy btn btn-warning copy-btn" data-rekening="9876543210"> Copy No Rekening</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
            <path d="M16 8a8 8 0 1 1-16 0 8 8 0 0 1 16 0zM6.97 11.03a.75.75 0 0 0 1.08 0l4.992-4.992a.75.75 0 1 0-1.08-1.08L7.5 9.44 4.992 6.928a.75.75 0 1 0-1.08 1.08l3.058 3.022z"/>
        </symbol>
    </svg>
    

    <section id="rsvp" class="rsvp">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8 col-10 text-center">
                    <h2 class="ucapan-selamat animate-on-scroll">Ucapan Selamat</h2>
                    <p class="ucapan-selamat-paragraf animate-on-scroll"><i>Semoga kebahagiaan ini semakin sempurna dengan doa dan restu Anda.</i></p>
                </div>
            </div>
    
            <form class="row g-3 align-items-center justify-content-center" method="POST"
                action="https://script.google.com/macros/s/AKfycbwnI3_9WL5L4FkRX1xtiEJ5-gv__WPGaJuWtBRbpGj9VRyVJsR2zKTfpQ8SNH_oKG8d/exec"
                id="my-form">
                
                <!-- Input Nama -->
                <div class="col-md-6">
                    <label for="nama" class="form-label">Nama</label>
                    <input type="text" class="form-control" id="nama" name="nama" required>
                </div>
    
                <!-- Input Jumlah Tamu -->
                <!-- <div class="col-md-3">
                    <label for="jumlah" class="form-label">Jumlah</label>
                    <input type="number" class="form-control" id="jumlah" name="jumlah" min="1" max="5" value="1" required>
                </div> -->
    
                <!-- Pilihan Konfirmasi Kehadiran -->
                <div class="col-md-3">
                    <label for="status" class="form-label">Konfirmasi Kehadiran</label>
                    <select name="status" id="status" class="form-select" required>
                        <option selected disabled>Pilih salah satu</option>
                        <option value="Hadir">Hadir</option>
                        <option value="Tidak Hadir">Tidak Hadir</option>
                    </select>
                </div>
    
                <!-- Input Ucapan -->
                <div class="col-md-12">
                    <label for="ucapan" class="form-label">Ucapan</label>
                    <textarea class="form-control" id="ucapan" name="ucapan" rows="3" placeholder="Tulis ucapan Anda di sini..." required></textarea>
                </div>
    
                <!-- Tombol Kirim -->
                <div class="col-12 text-center">
                    <button class="bi bi-send-check-fill btn btn-primary mt-3 rounded-pill px-4"> Kirim Ucapan</button>
                </div>
            </form>
        </div>
    </section>

    <div id="audio-container">
        <audio id="song" autoplay loop>
            <!-- <source src="audio/audio.mp3" type="audio/mp3"> -->
        </audio>
        <div class="audio-icon-wrapper" style="display: none">
            <i class="bi bi-disc"></i>
        </div>
    </div>

    <h2 class="ucapan-tamu animate-on-scroll">Ucapan Doa</h2>
    <div class="container-ucapan" id="guest-container">
        <div class="loading" id="loading">Memuat data...</div>
    </div>

    <!-- footer -->
    <footer class="footer">
        <div class="footer-logo">
            <!-- <img src="logo.png" alt="Footer Logo"> -->
            <h2 class="matur-suksma"><i><strong>Matur Suksma</strong></i></h2>
            <p class="developer-team">Catur Circa Developer Team</p>
            <!-- <p>Copyright &copy; 2020 all rights reserved</p> -->
            <!-- <div class="footer-social">
                <a href="#" class="bi bi-instagram"></a>
                <a href="#" class="bi bi-twitter-x"></a>
                <a href="#" class="bi bi-facebook"></a>
            </div> -->
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="slider.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.3/dist/index.bundle.min.js"></script>

    <!-- scroll -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const elements = document.querySelectorAll('.animate-on-scroll1');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.classList.add('show');
                        }, index * 200); // Delay animasi agar muncul berurutan (succession)
                    }
                });
            }, { threshold: 0.5 });  // 50% elemen terlihat, mulai animasi

            elements.forEach(element => observer.observe(element));
        });
    </script>

    <script>
document.addEventListener("DOMContentLoaded", function () {
    const elements = document.querySelectorAll('.animate-on-scroll');

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('show');  // Tambahkan efek saat masuk viewport
            } else {
                entry.target.classList.remove('show'); // Hapus efek saat keluar viewport
            }
        });
    }, { threshold: 0.2 });  // 20% elemen terlihat, mulai animasi

    elements.forEach(element => observer.observe(element));
});
    </script>

    <!-- parameter nama -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Ambil parameter dari URL
            const urlParams = new URLSearchParams(window.location.search);
            const nama = urlParams.get('nama') || "Tamu Undangan";

            // Pilih elemen yang akan diubah
            const namaContainer = document.querySelector('.nama-tamu');
            const inputNama = document.querySelector('#nama');

            if (namaContainer) {
                namaContainer.innerText = `${nama}`; // Tambahkan kata "Kepada"
            }

            if (inputNama) {
                inputNama.value = nama; // Simpan nama di input
            }
        });
    </script>
    <!-- <script>
        // Ambil parameter dari URL
        function getQueryParameter(name) {
            const params = new URLSearchParams(window.location.search);
            return params.get(name);
        }

        // Masukkan nama tamu ke dalam halaman
        const guestName = getQueryParameter("nama") || "Tamu Undangan";
        document.querySelector(".nama-tamu").textContent = guestName;
    </script>   -->

    <!-- ucapan-tamu -->
    <script>
        async function fetchUcapan() {
            try {
                const timestamp = new Date().getTime(); // Gunakan timestamp untuk menghindari cache
                const response = await fetch("https://script.google.com/macros/s/AKfycbwnI3_9WL5L4FkRX1xtiEJ5-gv__WPGaJuWtBRbpGj9VRyVJsR2zKTfpQ8SNH_oKG8d/exec");
                const data = await response.json();
                console.log("✅ Data terbaru:", data); 

                const container = document.getElementById("guest-container");
                
                container.innerHTML = ""; // Kosongkan sebelum menambahkan baru
                
                data.forEach((guest) => {
                    const card = document.createElement("div");
                    card.classList.add("hasil");    
                    card.innerHTML = `
                        <div class="content">
                            <div class="name">${guest.nama}</div>
                            <div class="guest-status">${guest.status ? guest.status : ''}</div>
                            <div class="message">${guest.ucapan}</div>
                        </div>
                    `;
                    container.appendChild(card);
                });
            } catch (error) {
                console.error("Gagal mengambil data: ", error);
            }
        }

        fetchUcapan(); // Panggil saat halaman dimuat
        setInterval(fetchUcapan, 2000);
    </script>

    <!-- simply-countdown -->
    <script>
      simplyCountdown('.simply-countdown', {
        year: 2025, // required
        month: 11, // required
        day: 20, // required
        hours: 8, // Default is 0 [0-23] integer
        words: { //words displayed into the countdown
          days: { singular: 'hari', plural: 'hari' },
          hours: { singular: 'jam', plural: 'jam' },
          minutes: { singular: 'menit', plural: 'menit' },
          seconds: { singular: 'detik', plural: 'detik' }
        },
      });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
        const copyButtons = document.querySelectorAll(".copy-btn");
        const successAlert = document.getElementById("successAlert");
        const alertMessage = document.getElementById("alertMessage");

        copyButtons.forEach(button => {
            button.addEventListener("click", function () {
                let rekening = this.getAttribute("data-rekening");

            // Salin ke clipboard
                navigator.clipboard.writeText(rekening).then(() => {
                // Ubah teks alert
                alertMessage.textContent = `Nomor rekening ${rekening} berhasil disalin!`;

                // Tampilkan alert
                successAlert.classList.remove("d-none");

                // Sembunyikan alert setelah 3 detik
                setTimeout(() => {
                    successAlert.classList.add("d-none");
                }, 3000);
            });
        });
    });
});


    </script>

    <!-- disable-scroll -->
    <script>
        const rootElement = document.querySelector(":root");
        const audioIconWrapper = document.querySelector('.audio-icon-wrapper');
        const audioIcon = document.querySelector('.audio-icon-wrapper i');
        const song = document.querySelector('#song');
        let isPlaying = false;
    
        function disableScroll() {
          scrollTop = window.pageYOffset || document.documentElement.scrollTop;
          scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
    
          window.onscroll = function () {
            window.scrollTo(scrollTop, scrollLeft);
          }
    
          rootElement.style.scrollBehavior = 'auto';
        }
    
        function enableScroll() {
          window.onscroll = function () { }
          rootElement.style.scrollBehavior = 'smooth';
          // localStorage.setItem('opened', 'true');
          playAudio();
        }
    
        function playAudio() {
          song.volume = 0.1;
          audioIconWrapper.style.display = 'flex';
          song.play();
          isPlaying = true;
        }
    
        audioIconWrapper.onclick = function () {
          if (isPlaying) {
            song.pause();
            audioIcon.classList.remove('bi-disc');
            audioIcon.classList.add('bi-pause-circle');
          } else {
            song.play();
            audioIcon.classList.add('bi-disc');
            audioIcon.classList.remove('bi-pause-circle');
          }
    
          isPlaying = !isPlaying;
        }
    
        // if (!localStorage.getItem('opened')) {
        //   disableScroll();
        // }
        disableScroll();
      </script>

    <!-- <script>
        document.addEventListener("DOMContentLoaded", function () {
        const song = document.getElementById("song");

        function playAudio() {
            song.volume = 0.1;
            song.play().then(() => {
                console.log("✅ Audio diputar setelah interaksi pengguna!");
                document.removeEventListener("click", playAudio);
                document.removeEventListener("scroll", playAudio);
            }).catch(error => {
                console.log("⚠️ Autoplay masih diblokir, menunggu interaksi...");
            });
        }

        if (localStorage.getItem("playAudio") === "true") {
            document.addEventListener("click", playAudio);
            document.addEventListener("scroll", playAudio);
        }
    });
    </script> -->

    <script>
        document.getElementById("my-form").addEventListener("submit", function(event) {
        event.preventDefault(); // Mencegah reload halaman
    
        let formData = new FormData(this);
        let url = this.action;
    
        fetch(url, {
            method: "POST",
            body: formData
        })
        .then(response => response.text())
        .then(data => {
            console.log("✅ Server Response:", data);
            alert("Data berhasil dikirim!"); 
            this.reset(); // 🔥 Mengosongkan form setelah submit
        })
        .catch(error => {
            console.error("⚠️ Fetch Error:", error);
            alert("Terjadi kesalahan: " + error);
        });
    });
    </script>    
    
</body>
</html>
